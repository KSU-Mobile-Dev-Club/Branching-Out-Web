<!DOCTYPE HTML>
<html>

<head>
	<title>Branching Out | Trees</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<!--[if lte IE 8]><script src="js/ie/html5shiv.js"></script><![endif]-->
	<link rel="stylesheet" href="css/main.css" />
	<!--[if lte IE 8]><link rel="stylesheet" href="css/ie8.css" /><![endif]-->
	<!--[if lte IE 9]><link rel="stylesheet" href="css/ie9.css" /><![endif]-->
	<script src="js/jquery.min.js"></script>
	<script src="http://www.parsecdn.com/js/parse-1.6.14.min.js"></script>
	<script>
		Parse.initialize("TcxRgMwktldvVspKoslGldSSommdBFIByYZSgdgt");
		Parse.serverURL = 'http://104.131.10.79:1337/parse'
	</script>
	<script>
		var trees = Parse.Object.extend("trees");
		var query = new Parse.Query(trees);
		query.greaterThan("treeId", -1);
		query.find({
			success: function(results) {
				var table = document.getElementById("tbody");
				for (var i = 0; i < results.length; i++) {
					var object = results[i];
					var loc = object.get('cord');
					var row = table.insertRow();
					var cell1 = row.insertCell(0);
					var cell2 = row.insertCell(1);
					var cell3 = row.insertCell(2);
					var cell4 = row.insertCell(3);
					cell1.innerHTML = object.get('common');
					cell2.innerHTML = object.get('scientific');
					cell3.innerHTML = "<a href='https://www.google.com/maps/@" + loc.latitude + "," + loc.longitude + ",77m/data=!3m1!1e3' target='_blank'>" + loc.latitude + ", " + loc.longitude + "</a>";
					cell4.innerHTML = "<a href=" + object.get('wiki') + " target='_blank'>Details <i class='fa fa-external-link'></i></a>";
					$("table").tablesorter({ sortList: [[0,0]] });
					$("#loading").remove();
				}
			},
			error: function(error) {
				alert("Error: " + error.code + " " + error.message);
			}
		});
	</script>
</head>

<body>
	<div id="header">
		<div class="top">
			<div id="logo">
				<h1 id="title"><a href="/">Branching Out</a></h1>
				<p><a href="https://www.ksu.edu/gardens/" target="_blank">K-State Gardens</a></p>
			</div>
			<nav id="nav">
				<ul>
					<li><a href="/" id="top-link" class="skel-layers-ignoreHref"><span class="icon fa-home">Home</span></a></li>
					<li><a href="trees" id="portfolio-link" class="skel-layers-ignoreHref active"><span class="icon fa-tree">Trees</span></a></li>
					<li><a href="map" id="contact-link" class="skel-layers-ignoreHref"><span class="icon fa-map">Map</span></a></li>
				</ul>
			</nav>
		</div>
		<div class="bottom">
			<ul class="appstore">
				<li>
					<a href="#" target="_blank"><img src="img/app-store.png" /></a>
				</li>
				<li>
					<a href="#" target="_blank"><img src="img/google-play.png" /></a>
				</li>
			</ul>
			<ul class="icons">
				<li><a href="https://www.facebook.com/kstate.gardens" target="_blank" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
				<li><a href="mailto:ksugardens@k-state.edu" class="icon fa-envelope"><span class="label">Email</span></a></li>
			</ul>
		</div>
	</div>
	<div id="main">
		<section id="trees" class="two">
			<div class="container">
				<header>
					<h2>Trees</h2>
					<div class="input-group">
						<input id="filter" type="text" class="form-control" placeholder="Search trees...">
					</div>
					<div id="loading">Loading...</div>
					<div class="table-responsive">
						<table id="treetbl" class="table table-striped tablesorter">
							<thead>
								<tr>
									<th>Common Name</th>
									<th>Scientific Name</th>
									<th>Coordinates</th>
									<th>More Info</th>
								</tr>
							</thead>
							<tbody id="tbody" class="searchable clickable">
							</tbody>
						</table>
					</div>
				</header>
			</div>
		</section>
	</div>
	<script src="js/jquery.min.js"></script>
	<script src="js/jquery.scrolly.min.js"></script>
	<script src="js/jquery.scrollzer.min.js"></script>
	<script src="js/skel.min.js"></script>
	<script src="js/util.js"></script>
	<!--[if lte IE 8]><script src="js/ie/respond.min.js"></script><![endif]-->
	<script src="js/main.js"></script>
	<script src="js/tsearch.js"></script>
	<script src="js/tablesorter.js"></script>
</body>

</html>
